<div class="flex flex-col justify-center items-center h-screen" [formGroup]="workoutForm">
  <h1 class="text-4xl font-bold uppercase mb-4 text-center">Let's Work</h1>

  <div formArrayName="stepsFormArray">
    <ul class="steps steps-vertical flex flex-col items-center flex-wrap">
      <li class="step" [ngClass]="{'step-primary': stepFormGroup.get('pending')?.value}"
          *ngFor="let stepFormGroup of stepsFormArray.controls; let i = index"
          [formGroupName]="i">

        <div class="flex-col p-2">
          <div class="flex-row">
            {{ stepFormGroup.get('exercise')?.value}}:
            <label class="label-text">{{stepFormGroup.get('targetRepsPerSet')?.value}}</label>
            <label class="label-text ml-1 mr-1">X</label>
            <label class="label-text">{{stepFormGroup.get('targetSets')?.value}}</label>
          </div>

          <ng-container formArrayName="stepInformationFormArray">
            <div class="flex-row"
                 *ngFor="let setFormGroup of getStepInformationFormArrayControls(i); let j = index"
                 [formGroupName]="j">

              <label class="label-text">Set {{j+1}}: </label>
              <input type="number" min="1" formControlName="repsCompleted"
                     placeholder="Reps Completed:" class="input input-bordered input-xs w-32" />
              <input type="number" min="1" max="10" formControlName="intensity"
                     placeholder="Intensity (1-10):" class="input input-bordered input-xs w-32" />
            </div>
          </ng-container>
          <button (click)="markStepAsComplete(i)" [ngClass]="{'text-green-500': stepFormGroup.get('complete')?.value}" class="hover:text-green-500">&#10003;</button>
        </div>

      </li>
    </ul>
  </div>
  <div class="flex flex-row justify-center">
    <app-button-standard (click)="back()" [text]="'Go Back'"/>
    <app-button-standard (click)="finish()" [text]="'Finish Workout'"/>
  </div>
</div>
